<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preview - Template Email Nova Tarefa</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background-color: #f0f0f0; 
        }
        .preview-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .preview-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .email-preview {
            margin-bottom: 40px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            overflow: hidden;
        }
        .email-header {
            background: #333;
            color: white;
            padding: 10px 20px;
            font-weight: bold;
        }
        .email-content {
            max-width: 600px;
            margin: 0;
            background-color: white;
        }
        .container { 
            max-width: 600px; 
            margin: 0; 
            background-color: white; 
            border-radius: 8px; 
            overflow: hidden; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
        }
        .header { 
            color: white; 
            padding: 20px; 
            text-align: center; 
        }
        .content { 
            padding: 30px; 
        }
        .task-info { 
            background-color: #f8f9fa; 
            padding: 20px; 
            border-radius: 6px; 
            margin: 20px 0; 
        }
        .priority-badge { 
            display: inline-block; 
            padding: 4px 12px; 
            border-radius: 20px; 
            font-size: 12px; 
            font-weight: bold; 
            margin-bottom: 10px; 
        }
        .btn { 
            display: inline-block; 
            padding: 12px 24px; 
            background-color: #007bff; 
            color: white; 
            text-decoration: none; 
            border-radius: 6px; 
            margin: 20px 0; 
        }
        .footer { 
            background-color: #f8f9fa; 
            padding: 20px; 
            text-align: center; 
            font-size: 12px; 
            color: #666; 
        }
        .due-date { 
            font-weight: bold; 
        }
        .description-box { 
            background-color: #e9ecef; 
            padding: 15px; 
            border-radius: 6px; 
            margin: 15px 0; 
            border-left: 4px solid #007bff; 
        }
        .welcome-box { 
            background-color: #d1ecf1; 
            border: 1px solid #bee5eb; 
            padding: 15px; 
            border-radius: 6px; 
            margin: 20px 0; 
        }
        .tip-box {
            background-color: #fff3cd; 
            border: 1px solid #ffeaa7; 
            padding: 15px; 
            border-radius: 6px; 
            margin: 20px 0;
        }
        .tip-text {
            margin: 0; 
            color: #856404;
        }
        
        /* Exemplo com prioridade Alta */
        .alta .header { background-color: #fd7e14; }
        .alta .due-date { color: #fd7e14; }
        .alta .priority-badge { background-color: #fd7e14; color: white; }
        .alta .description-box { border-left-color: #fd7e14; }
    </style>
</head>
<body>
    <div class="preview-container">
        <div class="preview-header">
            <h1>üìã Preview - Email Nova Tarefa</h1>
            <p>Template enviado quando uma nova tarefa √© criada</p>
            <p><strong>Notifica√ß√£o autom√°tica para o respons√°vel</strong></p>
        </div>

        <!-- EXEMPLO NOVA TAREFA -->
        <div class="email-preview">
            <div class="email-header">üìß Nova Tarefa Atribu√≠da - Prioridade Alta</div>
            <div class="email-content">
                <div class="container alta">
                    <div class="header">
                        <h1>üìã Nova Tarefa Atribu√≠da</h1>
                        <p style="margin: 5px 0; font-size: 14px;">Uma nova tarefa foi criada por Carlos Cerrado</p>
                    </div>
                    
                    <div class="content">
                        <div style="margin-bottom: 20px;">
                            <span class="priority-badge">ALTA</span>
                        </div>
                        
                        <h2>An√°lise de Viabilidade - Projeto Shopping Center</h2>
                        
                        <div class="description-box">
                            <h4 style="margin-top: 0; color: #495057;">üìù Descri√ß√£o:</h4>
                            <p style="margin-bottom: 0; line-height: 1.5;">
                                Realizar an√°lise completa de viabilidade t√©cnica e estrutural para o novo projeto de shopping center. 
                                Incluir levantamento topogr√°fico, an√°lise de solo e estudo de impacto ambiental. 
                                Coordenar com equipe de arquitetura e fornecedores.
                            </p>
                        </div>
                        
                        <div class="task-info">
                            <p><strong>üë§ Respons√°vel:</strong> Maria Santos</p>
                            <p><strong>üè¢ Cliente:</strong> Grupo Investimentos ABC</p>
                            <p><strong>üìÖ Prazo de Entrega:</strong> <span class="due-date">30/12/2024</span></p>
                            <p><strong>‚è∞ Criada em:</strong> 05/12/2024 14:30:00</p>
                            <p><strong>üë®‚Äçüíº Criada por:</strong> Carlos Cerrado</p>
                        </div>
                        
                        <div class="welcome-box">
                            <p style="margin: 0; color: #0c5460;">
                                <strong>üéØ Pr√≥ximos Passos:</strong><br>
                                ‚Ä¢ Revise os detalhes da tarefa no sistema<br>
                                ‚Ä¢ Organize seu cronograma conforme a prioridade<br>
                                ‚Ä¢ Entre em contato se tiver d√∫vidas<br>
                                ‚Ä¢ Atualize o status conforme o progresso
                            </p>
                        </div>
                        
                        <div style="margin: 30px 0; text-align: center;">
                            <a href="https://cerrado-engenharia.web.app/tasks/TSK-2024-005" class="btn">
                                üì± Visualizar Tarefa
                            </a>
                        </div>
                        
                        <div class="tip-box">
                            <p class="tip-text">
                                <strong>üí° Dica:</strong> Voc√™ pode acessar todas as suas tarefas na se√ß√£o "Minhas Tarefas" do sistema.
                            </p>
                        </div>
                    </div>
                    
                    <div class="footer">
                        <p>Este √© um email autom√°tico do Sistema Cerrado Engenharia.</p>
                        <p>Uma nova tarefa foi atribu√≠da a voc√™ e est√° aguardando in√≠cio.</p>
                        <p style="margin-top: 15px; font-size: 10px;">
                            Email enviado em 05/12/2024 14:31:00
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="preview-header">
            <h3>üìã Exemplos de Assuntos por Prioridade</h3>
            <div style="text-align: left; max-width: 800px; margin: 0 auto;">
                <p><strong>üö® URGENTE NOVA TAREFA ATRIBU√çDA:</strong> An√°lise de Viabilidade - Projeto Shopping Center</p>
                <p><strong>‚ö†Ô∏è ALTA NOVA TAREFA ATRIBU√çDA:</strong> An√°lise de Viabilidade - Projeto Shopping Center</p>
                <p><strong>üìã M√âDIA NOVA TAREFA ATRIBU√çDA:</strong> An√°lise de Viabilidade - Projeto Shopping Center</p>
                <p><strong>üìå BAIXA NOVA TAREFA ATRIBU√çDA:</strong> An√°lise de Viabilidade - Projeto Shopping Center</p>
            </div>
            
            <h3>üé® Caracter√≠sticas do Email de Nova Tarefa</h3>
            <div style="text-align: left; max-width: 800px; margin: 0 auto;">
                <ul>
                    <li><strong>Trigger Autom√°tico:</strong> Enviado imediatamente quando uma tarefa √© criada</li>
                    <li><strong>Descri√ß√£o Completa:</strong> Mostra a descri√ß√£o detalhada da tarefa</li>
                    <li><strong>Informa√ß√µes do Criador:</strong> Identifica quem criou a tarefa</li>
                    <li><strong>Pr√≥ximos Passos:</strong> Orienta√ß√µes claras sobre o que fazer</li>
                    <li><strong>Link Direto:</strong> Bot√£o para acessar a tarefa espec√≠fica</li>
                    <li><strong>Design Profissional:</strong> Visual limpo e informativo</li>
                    <li><strong>Cores por Prioridade:</strong> Header colorido conforme urg√™ncia</li>
                    <li><strong>Mobile Friendly:</strong> Responsivo para celular</li>
                </ul>
            </div>

            <h3>‚öôÔ∏è Funcionalidades T√©cnicas</h3>
            <div style="text-align: left; max-width: 800px; margin: 0 auto;">
                <ul>
                    <li><strong>Trigger:</strong> <code>onDocumentCreated("tasks/{taskId}")</code></li>
                    <li><strong>Busca Autom√°tica:</strong> Dados do respons√°vel e criador</li>
                    <li><strong>Log de Envio:</strong> Registra na cole√ß√£o <code>new_task_notification_logs</code></li>
                    <li><strong>Tratamento de Erro:</strong> N√£o bloqueia cria√ß√£o da tarefa em caso de falha</li>
                    <li><strong>M√∫ltiplas Fontes:</strong> Busca em <code>users</code> e <code>collaborators</code></li>
                    <li><strong>Integra√ß√£o:</strong> Usa a mesma extens√£o Email Trigger</li>
                </ul>
            </div>

            <h3>üîÑ Fluxo de Funcionamento</h3>
            <div style="text-align: left; max-width: 800px; margin: 0 auto;">
                <ol>
                    <li><strong>Tarefa criada</strong> no sistema via interface</li>
                    <li><strong>Firebase Function</strong> detecta cria√ß√£o automaticamente</li>
                    <li><strong>Busca dados</strong> do respons√°vel e criador</li>
                    <li><strong>Gera email</strong> com template personalizado</li>
                    <li><strong>Adiciona √† cole√ß√£o mail</strong> para processamento</li>
                    <li><strong>Email Trigger Extension</strong> envia o email</li>
                    <li><strong>Log criado</strong> para auditoria</li>
                </ol>
            </div>
        </div>
    </div>
</body>
</html> 